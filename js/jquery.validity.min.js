!function(a){a.fn.validity=function(i){var t=":input:not("+(i=Object.assign({},{ignore:":hidden"},i)).ignore+")",e=a(this),r=function(i,t){return function(e){var r=a(this);if(("keyup"!==e.type||r.val()&&!r.is(":radio")&&(!r.is(":checkbox")||r.is(":checked")))&&r.attr("name")&&(!r.is(":radio")||(r=t.filter('[name="'+r.attr("name")+'"]')).prop("required"))&&r.attr("required")){var l=r[0],s=l.validity;console.log("----------"),console.log(r.attr("name")),console.log(l.checkValidity()),console.log("----------"),l.checkValidity()?(r.is(":file, :radio, :checkbox")?r.parent().addClass("valid").removeClass("error mismatch"):r.addClass("valid").removeClass("error mismatch"),r.next("label.error").remove()):(r.is(":file, :radio, :checkbox")?r.parent().addClass("error").removeClass("valid"):r.addClass("error").removeClass("valid"),i.data("valid",!1),s.valueMissing&&r.attr("data-missing")?(r.next("label.error").remove(),l.setCustomValidity(r.attr("data-missing")),r.after('<label for="'+r.attr("id")+'" class="error">'+l.validationMessage+"</label>")):l.setCustomValidity(""),"focusout"==e.type&&(s.patternMismatch||s.typeMismatch?(r.addClass("mismatch"),r.attr("data-mismatch")&&(r.next("label.error").remove(),l.setCustomValidity(r.attr("data-mismatch")),r.after('<label for="'+r.attr("id")+'" class="error">'+l.validationMessage+"</label>"))):l.setCustomValidity("")))}}};return e.each(function(){var i=a(this),e=i.find(t);i.data("valid",!0),i.attr("novalidate",!0).off("keyup.validity change.validity focusout.validity").on("keyup.validity change.validity focusout.validity",t,r(i,e)).off("valid.validity").on("valid.validity",function(a,t){i.data("valid",!0),t.each(r(i,t))})}),a.fn.valid=function(){var i=a(this);return i.trigger("valid",[i.find(t)]),i.data("valid")},a.fn.reset=function(){var i=a(this);return i.find(":input").removeClass("valid error mismatch").filter(":file").parent().removeClass("valid error mismatch"),i[0].reset(),i},e}}(jQuery);
